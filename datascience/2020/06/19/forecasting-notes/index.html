<!DOCTYPE html> <html lang=" en "><head> <meta charset="utf-8"> <title>Maria Pantsiou - Software Developer @ARM</title> <meta http-equip="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Forecasting Notes" /> <meta name="keywords" content="Forecasting Notes, Maria Pantsiou, dataScience" /> <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"> <meta content="" property="fb:app_id"> <meta content="Maria Pantsiou" property="og:site_name"> <meta content="Forecasting Notes" property="og:title"> <meta content="article" property="og:type"> <meta content="Forecasting Notes" property="og:description"> <meta content="/datascience/2020/06/19/forecasting-notes/" property="og:url"> <meta content="2020-06-19T09:05:23+00:00" property="article:published_time"> <meta content="/about/" property="article:author"> <meta content="dataScience" property="article:section"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@"> <meta name="twitter:creator" content="@"> <meta name="twitter:title" content="Forecasting Notes"> <meta content="Maria Pantsiou" property="og:site_name"> <meta name="twitter:url" content="/datascience/2020/06/19/forecasting-notes/"> <meta name="twitter:description" content="devlopr-jekyll is a Jekyll Theme Built For Developers"> <link rel="stylesheet" href="/assets/css/main.css" /> <link rel="stylesheet" href="/assets/css/custom-style.css" /> <link rel="stylesheet" href="/assets/bower_components/lightgallery/dist/css/lightgallery.min.css"/> <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.css" /> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css"> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css"> <link rel="stylesheet" href="/assets/bower_components/bootstrap/dist/css/bootstrap.min.css" /> <link rel="stylesheet" href="/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css" /> <!-- Fonts--> <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet"> <!-- Favicon --> <link rel="icon" href="/assets/img/favicon.ico" type="image/gif" sizes="16x16"> <!-- Jquery --> <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script> <!-- <script src="/assets/bower_components/jquery/dist/jquery.min.js"></script> --> <script src="/assets/bower_components/jquery.easing/jquery.easing.min.js"></script> <script src="/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <script src="/assets/bower_components/jquery-mousewheel/jquery.mousewheel.min.js"></script> <script src="/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.2/picturefill.min.js"></script> <script src="/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script> <script src="/assets/bower_components/nanobar/nanobar.min.js"></script> <script src="/assets/bower_components/typewrite/dist/typewrite.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script> <!-- Github Button --> <script async defer src="https://buttons.github.io/buttons.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script> <script> (function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga'); ga('create', '', 'auto'); ga('send', 'pageview'); </script> </head> <body> <div class="container-fluid"><header> <div class="col-lg-12"> <div class="row"> <nav class="navbar navbar-expand-lg fixed-top navbar-dark " id="topNav"> <!-- <a class="navbar-brand" href="#">Maria Pantsiou</a> --> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="/">Maria Pantsiou</a> <div class="collapse navbar-collapse" id="navbarNav"> <ul class="navbar-nav"> <li class="nav-item"> <a class="nav-link" href="/about">About Me</a> </li> <li class="nav-item"> <a class="nav-link" href="/blog">Blog</a> </li> </ul> </div> <ul class="nav justify-content-end"> <li class="nav-item"> <a class="nav-link" id="search-icon" href="/search/"><i class="fa fa-search" aria-hidden="true"></i></a> </li> <li class="nav-item"> <input class="nav-link switch" id="theme-toggle" onclick="modeSwitcher() "type="checkbox" name="checkbox" > </li> </ul> </nav> </div> </div> </header><div class="col-lg-12"> <!-- Blog Post Breadcrumbs --><div class="col-lg-12"> <nav aria-label="breadcrumb" role="navigation"> <ol class="breadcrumb"> <li class="breadcrumb-item"> <a href="/blog"><i class="fa fa-home" aria-hidden="true"></i></a> </li> <li class="breadcrumb-item active" aria-current="page"><a href="/datascience/2020/06/19/forecasting-notes/">Forecasting Notes</a></li> </ol> </nav> </div> <div class="row" id="blog-post-container"> <div class="col-lg-8 offset-md-2"><article class="card" itemscope itemtype="http://schema.org/BlogPosting"> <div class="card-header"> <!-- <h1 class="post-title" itemprop="name headline">Forecasting Notes</h1> --> <h4 class="post-meta">Forecasting Notes</h4> <p class="post-summary">Posted by : <img src="/assets/img/avatar.png" class="author-profile-img"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">Maria Pantsiou</span> </span> at <time datetime="2020-06-19 09:05:23 +0000" itemprop="datePublished">Jun 19, 2020</time> </p> <span class="disqus-comment-count" data-disqus-identifier="/datascience/2020/06/19/forecasting-notes/"></span> <div class="post-categories"> Category : <a href="/blog/categories/dataScience">dataScience</a> </div> </div> <div class="card-body" itemprop="articleBody"> <img class="card-img-top" src="/assets/img/posts/" alt=""> <br/> <br/> <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'], displayMath: [['$$','$$']], inlineMath: [['$','$']], }, }); </script> <p><em>The following article is about forecasting principles and common forecasting methods. Implementations of the ideas and theories behind forecasts are performed and presented in R.</em> <!-- Feel free to refer to the R installtion aticle that you can fine here: <link-to-my-atricle-once-ready>--></p> <h2>The Basics of Forecasting</h2> <h3>What can be forecast?</h3> <p>Often in forecasting, a key step is knowing when something can be forecast accurately, and when forecasts will be no better than tossing a coin.</p> <p>Good forecasts capture the genuine patterns and relationships which exist in the historical data, but do not replicate past events that will not occur again (like random fluctuations).</p> <p>Many people wrongly assume that forecasts are not possible in a changing environment. Every environment is changing, and a good forecasting model captures the way in which things are changing. Sometimes, there will be no data available at all. For example, we may wish to forecast the sales of a new product in its first year, but there are obviously no data to work with. Forecasting should be an integral part of the decision-making activities of management, as it can play an important role in many areas of a company.</p> <h3>Which are the forecasts that are needed?</h3> <p>If forecasts are required for items in a manufacturing environment, it is necessary to ask whether forecasts are needed for:</p> <ul> <li> <p>every product line, or for groups of products?</p> </li> <li> <p>every sales outlet, or for outlets grouped by region, or only for total sales?</p> </li> <li> <p>weekly data, monthly data or annual data?</p> </li> </ul> <p>Will forecasts be required for one month in advance, for 6 months, or for ten years? How frequently are forecasts required?</p> <p>Quantitative forecasting can be applied when two conditions are satisfied:</p> <ol> <li> <p>Numerical information about the past is available</p> </li> <li> <p>It is reasonable to assume that some aspects of the past patterns will continue into the future</p> </li> </ol> <p>When forecasting time series data, the aim is to estimate how the sequence of observations will continue into the future. The simplest time series forecasting methods use only information on the variable to be forecast, and make no attempt to discover the factors that affect its behaviour. Therefore, they will extrapolate trend and seasonal patterns, but they ignore all other information such as marketing initiatives, competitor activity, changes in economic conditions, and so on. Time series models used for forecasting include <strong>decomposition models, exponential smoothing models and ARIMA models</strong>.</p> <p>An explanatory model helps explain what causes the variation in what need to be forecasted. An “error” term as an argument allows for random variation and the effects of relevant variables that are not included in the model. Progress of ED model (electricity demand) can look like:</p> <script type="math/tex; mode=display">ED=f(current\ temperature,\ strength\ of\ economy,\ population,\ time\ of\ day,\ day\ of\ work,\ error)</script> <script type="math/tex; mode=display">ED_{t+1} = f(ED_t, ED_{t-1}, ED_{t-2}, ED_{t-3},..., error)</script> <script type="math/tex; mode=display">ED_{t+1} = f(ED_t,\ current\ temperature,\ time\ of\ day,\ day\ of\ work,\ error)</script> <p>These types of “mixed models” have been given various names in different disciplines. They are known as <strong>dynamic regression models, panel data models, longitudinal models, transfer function models, and linear system models</strong> (assuming that f is linear).</p> <p>An explanatory model is useful because it incorporates information about other variables, rather than only historical values of the variable to be forecast. However, there are several reasons a forecaster might select a time series model rather than an explanatory or mixed model.</p> <h3>The basic steps in a forecasting task</h3> <h4>Step 1: Problem definition</h4> <p>A forecaster needs to spend time talking to everyone who will be involved in collecting data, maintaining databases, and using the forecasts for future planning.</p> <h4>Step 2: Gathering information</h4> <p>There are always at least two kinds of information required:</p> <ol> <li>Statistical data</li> <li>The accumulated expertise of the people who collect the data and use the forecasts</li> </ol> <p>Occasionally, old data will be less useful due to structural changes in the system being forecast; then we may choose to use only the most recent data. However, remember that good statistical models will handle evolutionary changes in the system; don’t throw away good data unnecessarily.</p> <h4>Step 3: Preliminary (exploratory) analysis</h4> <ol> <li>Always start by graphing the data</li> <li>Look for consistent patterns</li> <li>Look for a significant trend</li> <li>Look for an important seasonality</li> <li>Is there evidence of the presence of business cycles?</li> <li>Are there any outliers in the data that need to be explained by those with expert knowledge?</li> <li>How strong are the relationships among the variables available for analysis?</li> </ol> <h4>Step 4: Choosing and fitting models</h4> <p>The best model to use depends on the availability of historical data, the strength of relationships between the forecast variable and any explanatory variables, and the way in which the forecasts are to be used. It is common to compare two or three potential models. Each model is itself an artificial construct that is based on a set of assumptions (explicit and implicit) and usually involves one or more parameters which must be estimated using the known historical data.</p> <h4>Step 5: Using and evaluating a forecasting model</h4> <p>Once a model has been selected and its parameters estimated, the model is used to make forecasts. The performance of the model can only be properly evaluated after the data for the forecast period have become available.</p> <h3>The statistical forecasting perspective</h3> <p>When we obtain a forecast, we are estimating the middle of the range of possible values the random variable could take. Often, a forecast is accompanied by a prediction interval giving a range of values the random variable could take with relatively high probability. For example, a 95% prediction interval contains a range of values which should include the actual future value with probability 95%. The average of the possible future values is the point forecasts.</p> <p><strong>Notation</strong></p> <p>$y_t|I$ meaning “the random variable $y_t$ given what we know in $I$”</p> <p>The set of values that this random variable could take, along with their relative probabilities, is known as the “probability distribution” of $y_t|I$ . In forecasting, we call this the forecast distribution.</p> <p>When we talk about the “forecast”, we usually mean the average value of the forecast distribution: $\hat{y_t}$ . Occcasionally, we refer to the median with the same notation.</p> <p>We will write, for example, $\hat{y_t}|t-1$ to mean the forecast of $y_t$ taking account of all previous observations $(y_1,…,y_{t−1})$. Similarly, $\hat{y}<em>{T+h}|T$ means the forecast of $y</em>{T+h}$ taking account of $y1,…,y_T$ (i.e., an $h$-step forecast taking account of all observations up to time $T$ ).</p> <h3>Timeseries and ts Objects in R</h3> <p>Timeseries is the opposite of the definition of frequency in physics or in Fourier analysis, where this would be called the “period”.</p> <h4>Frequency of a time series</h4> <p>The “frequency” is the number of observations before the seasonal pattern repeats. wec an create timesies with the <code class="language-plaintext highlighter-rouge">ts()</code> function in <code class="language-plaintext highlighter-rouge">R</code>. When using the <code class="language-plaintext highlighter-rouge">ts()</code> function, the following choices should be used:</p> <h4>Time plots in R</h4> <p>You should always start with time plots, just simple line graphs</p> <h5>Time series patterns</h5> <ol> <li> <p>Trend</p> <p>A trend exists when there is a long-term increase or decrease in the data.</p> </li> <li> <p>Seasonal</p> <p>A seasonal pattern occurs when a time series is affected by seasonal factors such as the time of the year or the day of the week. Seasonality is always of a fixed and known frequency.</p> </li> <li> <p>Cyclic</p> <p>A cycle occurs when the data exhibit rises and falls that are not of a fixed frequency. These fluctuations are usually due to economic conditions, and are often related to the “business cycle”. The duration of these fluctuations is usually at least 2 years.</p> </li> </ol> <p>When choosing a forecasting method, we will first need to identify the time series patterns in the data, and then choose a method that is able to capture the patterns properly.</p> <h4>Example of timeseries patterns</h4> <p>Seasonal and cyclic:</p> <div align="center"> <img src="/assets/img/posts/forecasting_practices/seasonal+cyclic.jpg" alt="Seasonal and cyclic" /> </div> <p>Trending:</p> <div align="center"> <img src="/assets/img/posts/forecasting_practices/trending.jpg" alt="Trending" /> </div> <p>Seasonal and trending:</p> <div align="center"> <img src="/assets/img/posts/forecasting_practices/seasonal+trending.jpg" alt="Trending" /> </div> <p>No pattern – random flactuation:</p> <div align="center"> <img src="/assets/img/posts/forecasting_practices/non-pattern.jpg" alt="No-pattern" /> </div> <h4>Seasonal plots</h4> <p>A seasonal plot is similar to a time plot except that the data are plotted against the individual “seasons” in which the data were observed. A useful variation on the seasonal plot uses polar coordinates.</p> <h4>Seasonal subseries plots</h4> <p>An alternative plot that emphasises the seasonal patterns is where the data for each season are collected together in separate mini time plots.</p> <h4>Scatter plots</h4> <p>A plot for studying the relationship between features by plotting one series against the other.</p> <h4>Lag plots</h4> <p>scatterplots of quarterly Australian beer production, where the horizontal axis shows lagged values of the time series – useful?</p> <h2>Correlation</h2> <p>Correlation coefficients to measure the strength of the relationship between two variables is defined as:</p> <p>$r=\frac{\sum(x_t-\overline{x})(y_t-\overline{y})}{\sqrt{\sum(x_t-\overline{x})^2}\sqrt{\sum(y_t-\overline{y})^2}}$</p> <p>Takes values between −1 and 1 with negative values indicating a negative relationship and positive values indicating a positive relationship. The correlation coefficient only measures the strength of the linear relationship.</p> <h3 id="autocorrelation">Autocorrelation</h3> <p>Measures the linear relationship between lagged values of a time series. re several autocorrelation coefficients: $r1$ measures the relationship between $y_t$ and $y_{t−1}$, $r2$ measures the relationship between $y_t$ and $y_{t−2}$, and so on. The value of $r_k$ can be written as:</p> <p>$r=\frac{\sum_{t=k+1}^{T}(y_t-\overline{y})(y_{t-k}-\overline{y})}{\sum{t=k+1}^{T}(x_t-\overline{x})^2}$</p> <p>T is the length of the time series</p> <p>The autocorrelation coefficients are plotted to show the autocorrelation function or ACF. The plot is also known as a correlogram. Look at the book for more.</p> <p>r4</p> <p> is higher than for the other lags. This is due to the seasonal pattern in the data: the peaks tend to be four quarters apart and the troughs tend to be four quarters apart.</p> <p> r2</p> <p> is more negative than for the other lags because troughs tend to be two quarters behind peaks.</p> <p> The dashed blue lines indicate whether the correlations are significantly different from zero. These are explained in Section</p> <p>Trend and seasonality in ACF plots</p> <p>When data have a trend, the autocorrelations for small lags tend to be large and positive because observations nearby in time are also nearby in size. When data are both trended and seasonal, you see a combination of these effects.</p> <p>White Noise</p> <p>On white noise series, we expect each autocorrelation to be close to zero. Of course, they will not be exactly equal to zero as there is some random variation. For a white noise series, we expect 95% of the spikes in the ACF to lie within ±2/√T where T is the length of the time series. f one or more large spikes are outside these bounds, or if substantially more than 5% of spikes are outside these bounds, then the series is probably not white noise.</p> <p>Sesonal plots:</p> <p>ggseasonplot(h02)</p> <p>Some simple forecasting methods</p> <p>Average method</p> <p>meanf(y, h)</p> <p>Naïve method</p> <p>Take the last onservation:</p> <p>naive(y, h)</p> <p>rwf(y, h) # Equivalent alternative</p> <p>Seasonal naïve method</p> <p>we set each forecast to be equal to the last observed value from the same season of the year</p> <p>snaive(y, h)</p> <p>Drift Method:</p> <p>the amount of change over time (called the drift) is set to be the average change seen in the historical data (like drawing a line between the first and last observations, and extrapolating it into the future)</p> <p>rwf(y, h, drift=TRUE)</p> <p><em>sources:</em></p> <ol> <li><a href="https://otexts.com/fpp2/">Forecasting: Principles and Practice</a> book by Rob J Hyndman and George Athanasopoulos</li> </ol> </div> <div id="disqus_thread"></div> </article> <script> var disqus_config = function () { this.page.url = "/datascience/2020/06/19/forecasting-notes/"; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = "/datascience/2020/06/19/forecasting-notes"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function () { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = 'https://.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript></div> </div> <!-- End of row--> <div class="row"> <div class="col-md-4"> <div class="card"> <div class="card-header"> About </div> <div class="card-body"> <!-- Your Bio --> <p class="author_bio"> Hello, My Name is Maria.</p> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Categories </div> <div class="card-body text-dark"> <div id="#guides"></div> <li class="tag-head"> <a href="/blog/categories/guides">guides</a> </li> <a name="guides"></a> <div id="#dataScience"></div> <li class="tag-head"> <a href="/blog/categories/dataScience">dataScience</a> </li> <a name="dataScience"></a> <div id="#devops"></div> <li class="tag-head"> <a href="/blog/categories/devops">devops</a> </li> <a name="devops"></a> <div id="#resources"></div> <li class="tag-head"> <a href="/blog/categories/resources">resources</a> </li> <a name="resources"></a> <div id="#AI"></div> <li class="tag-head"> <a href="/blog/categories/AI">AI</a> </li> <a name="AI"></a> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Useful Links </div> <div class="card-body text-dark"> <li > <a href="/about">About Me</a> </li> <li > <a href="/blog">Blog</a> </li> </div> </div> </div> </div> </div> </div> <footer> <p> Powered by<a href="https://github.com/sujaykundu777/devlopr-jekyll"> devlopr jekyll</a>. Hosted at <a href="https://pages.github.com">Github</a>. Subscribe via <a href=" /feed.xml ">RSS</a> </p> </footer> </div> <script> var options = { classname: 'my-class', id: 'my-id' }; var nanobar = new Nanobar( options ); nanobar.go( 30 ); nanobar.go( 76 ); nanobar.go(100); </script> <div hidden id="snipcart" data-api-key="Y2I1NTAyNWYtMTNkMy00ODg0LWE4NDItNTZhYzUxNzJkZTI5NjM3MDI4NTUzNzYyMjQ4NzU0"></div> <script src="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.js" defer></script> <script src="/assets/js/mode-switcher.js"></script> </body> </html>
